import{d as m,s as v,w as I,j as B,g as y,k as Q,r as C,i as F,m as D,_ as O,o as S,c as U,e as l,t as L,f as k,F as w}from"./index-22b3cc09.js";import{l as V}from"./auth_signout-5720cb83.js";async function Z(n){var o;let e=m();for(let c=0;c<5&&e.currentUser==null;c++)console.log("Waiting for authentication..."),await new Promise(r=>setTimeout(r,1e3)),e=m();if(e===null||!((o=e.currentUser)!=null&&o.email))return console.log("Authentication failed or user email is null"),"undefined";const d=v(I(),"users"),a=await B(d);let t;return a.forEach(c=>{c.data().email===e.currentUser.email&&(t=c.data()[n])}),t}const K={data(){return{auth:!1,name:"",emptyCloset:!0,editMode:!1}},async mounted(){var a;m().onAuthStateChanged(t=>{t?(this.auth=!0,console.log("Logged in"),Z("name").then(o=>{this.name=o})):(console.log("Logged out"),this.auth=!1,this.$router.push("/Login"))});const n=y(),s=`users/${(a=m().currentUser)==null?void 0:a.email}/`;Q(C(n,s)).then(t=>{document.getElementById("closetDiv"),t.prefixes.forEach(o=>{Q(C(n,o.fullPath)).then(c=>{const r=[];c.items.forEach(E=>{r.push(E)});const A=document.createElement("div");A.classList.add("folder-container");const u=document.createElement("div");u.classList.add("image-container");const f=document.createElement("p");f.innerHTML=o.name;const h=document.createElement("div");h.classList.add("image-title-container"),h.appendChild(f),A.appendChild(h),r.forEach(E=>{F(E).then(p=>{const i=document.createElement("img");i.setAttribute("src",p),i.setAttribute("loading","lazy"),i.style.width=`${window.innerWidth*.95}px`,i.style.height=`${window.innerWidth*.95}px`,i.classList.add("item"),i.setAttribute("visibility","hidden"),i.addEventListener("click",async()=>{this.editMode&&window.confirm("Are you sure you want to delete this image?")&&(await this.deleteImage(p),location.reload())});const g=document.createElement("div");g.classList.add("closet-custom-loader"),A.appendChild(g),u.appendChild(i),i.complete?(i.style.visibility="visible",g.style.display="none"):i.onload=()=>{i.style.visibility="visible",g.style.display="none"}})}),A.appendChild(u),e.appendChild(A)})})}).catch(t=>{console.log(t)});const e=document.getElementById("closetDiv"),d=e==null?void 0:e.querySelectorAll("div");setTimeout(()=>{d.item.length<1?this.emptyCloset=!0:this.emptyCloset=!1},1e3)},methods:{async deleteImage(n){const s=y(),e=C(s,n);try{await D(e),console.log("Imaged deleted")}catch{console.log("Error deleting image")}},authLogOut(){V()},addToCloset(){this.$router.push("AddCloset")},toggleEdit(){this.editMode=!this.editMode;const s=document.getElementById("closetDiv").querySelectorAll("img");this.editMode?s.forEach(e=>{e.classList.add("item-alt"),e.classList.remove("item")}):s.forEach(e=>{e.classList.add("item"),e.classList.remove("item-alt")})}}},R="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAYAAABV7bNHAAAACXBIWXMAACE4AAAhOAFFljFgAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAMuSURBVHgB7Zq9ctNAFIWvLQo6/1SUxnZP0qXD6SjhCQglHX6COE+AWypCSUXooMLp6HAewLbS0VmUNDbnQDxkHDnZ1a6kXWW/GY+VaDUefXP37r0riQQCgUAgEAgEAoGAdWriOZ1OpxlF0WC9Xu/x71qtNp3NZmdiCa8F9Xq9lxAzxmFz61QMUSOI+iCGROIp3W73GF+U8zDlNIU9b7Vaslwuz8UALwVdyRkpDB2YSvJOkIacDUaSvBKUQc6GzJK8EWQgZ8Og3W7HkHShc5EXq5gFORuS1Wr1OI7jRPWCujiORTmEq9tTnQucFoQicCD25PylXq/va40Xh8FUmKAQnEqJOD/FIOiVWAQ56IfOeOdXsSRJfmKJ/oXDZ2JOvFgsXutc4HwEkfl8PkYkGfdV7M9EE2cEcbXC5+2u8xD0xjAfnWRpXp2og64v5cgRL5CcU7crsKp1EAXf8OmIHieIwpFkoHRBKXUOi7l9SIrTxmeQlFkOKXWK7SgCm7j5T9wIS7uG4jDVDhWnm5EcUtoqdluFDEGP+EHf9DntfPKPdy12oCIH6b9gLoeUIkixfdjD/Tch6euuATj35aoEoKTrG2dW5JDCBWn2Vgd3bVPg3PdGo/ERhy1EHfelrckhhSZpg8ZzjJse3jWIvRvbE7FIYYJMu3Ik5TO2HTpbFTYoRJDFLYsYJcDhrhIgD3LPQbb3c5BnjpCXfjP3SAHkGkGW5Wxzimga5j3lcisUc5ZDLovIR7lEUAFyrC7lt2FdUJXkEKuCqiaHWBNURTnEiqCqyiHGgqoshxgJqrocklnQfZBDMgm6L3KItiBsKRzh8e17yQ9n5BDtVgPN4rHkh1NyiJagfr8/yPDIRRXn5BAtQeieB5IPTsohWoIQPVrv1ijirByiJWjzsrZFnJZDlAXxiabcfGHbBOflEGVBURTZjB4v5BBlQRanlzdyiLIgSwnaKzmkyAjyTg5REmQhQXsphzxQGcQEjQiSDCSYmsPZbHYqnqIkSHV6YVyMrymkTFB1X9h+Tl4GqoKe4Ka3/xfLfxmXOJ4U/dy8CJQEQcI5p1jVZQQCgUAgEAgEAsr8AW+OjtrPUiOYAAAAAElFTkSuQmCC",X="data:image/png;base64,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",z="/assets/sad-5f48ee11.png";const G={class:"closet-title"},b={class:"closet-title-img"},Y={class:"closet-circle"},j=l("div",{id:"closetDiv",class:"closetDiv"},null,-1),x={key:0,class:"closet-empty"},H=l("img",{src:z},null,-1),T=[H];function W(n,s,e,d,a,t){return S(),U(w,null,[l("div",G,[l("h1",null,L(a.name)+"'s Closet",1),l("div",b,[l("img",{onClick:s[0]||(s[0]=(...o)=>t.toggleEdit&&t.toggleEdit(...o)),src:R})])]),l("div",Y,[l("img",{onClick:s[1]||(s[1]=(...o)=>t.addToCloset&&t.addToCloset(...o)),src:X})]),j,a.emptyCloset==!0?(S(),U("div",x,T)):k("v-if",!0)],64)}const M=O(K,[["render",W],["__file","/home/dave/Documents/VueFleet/vue-project/src/pages/Closet.vue"]]);export{M as default};
