import{g,b as h,r as m,u as _,d as w,_ as S,o as y,c as k,e as i,F as B,a as C,p as F,f as U}from"./index-aa939088.js";const b={data(){return{}},methods:{onFileChange(n){var l;const t=(l=n.target)==null?void 0:l.files;for(let e=0;t&&e<t.length;e++){const a=new FileReader;a.readAsDataURL(t[e]),a.onload=()=>{var s;const o=document.createElement("img");o.src=a.result,o.width=window.innerWidth*.95,o.height=window.innerWidth*.95,o.classList.add("item-preview"),(s=document.getElementById("image-preview-container"))==null||s.appendChild(o)}}},generateRandomString(n){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let l="";for(let e=0;e<n;e++){const a=Math.floor(Math.random()*t.length);l+=t.charAt(a)}return l},uploadToBucket(){var r,p;if(g().currentUser==null){console.log("Current User is not logged in ");return}const n=h(),t=document.getElementById("image"),l=document.getElementById("category"),e=t==null?void 0:t.files;let a=0;var o=0,s=e==null?void 0:e.length;for(a=0;e&&a<(e==null?void 0:e.length);a++){const u=m(n,"users/"+((p=(r=g())==null?void 0:r.currentUser)==null?void 0:p.email)+"/"+l.value+"/"+this.generateRandomString(30)),v=e==null?void 0:e[a];v&&_(u,v).on("state_changed",d=>{const f=d.bytesTransferred/d.totalBytes*100;console.log(f)},d=>{console.log(d)},()=>{console.log("Upload complete new"),w(u).then(d=>{console.log("File available at",d)}),o++,s&&o>=s&&this.$router.push("/Closet")})}}}};const c=n=>(F("data-v-c984369f"),n=n(),U(),n),I=c(()=>i("div",{id:"image-preview-container",class:"image-preview-container"},null,-1)),T=c(()=>i("div",{class:"loader"},null,-1)),R={class:"container"},A={class:"bottom"},x=C('<div class="category-dropdown" data-v-c984369f><select id="category" data-v-c984369f><option value="Tops" data-v-c984369f>Tops</option><option value="Pants" data-v-c984369f>Pants</option><option value="Jeans" data-v-c984369f>Jeans</option><option value="Shirts" data-v-c984369f>Shirts</option><option value="Underwear" data-v-c984369f>Underwear</option><option value="Bras" data-v-c984369f>Bras</option><option value="Socks" data-v-c984369f>Socks</option><option value="Dresses" data-v-c984369f>Dresses</option><option value="Shorts" data-v-c984369f>Shorts</option><option value="Skirts" data-v-c984369f>Skirts</option><option value="HoodiesSweatshirts" data-v-c984369f>Hoodies &amp; Sweatshirts</option><option value="Jackets" data-v-c984369f>Jackets &amp; Coats</option><option value="Shoes" data-v-c984369f>Shoes</option><option value="Gym" data-v-c984369f>Gym wear</option><option value="Knitwear" data-v-c984369f>Knitwear</option></select></div>',1),D={class:"buttons"},E=c(()=>i("label",{style:{},for:"image",class:"custom-file-upload"},[i("p",null,"Choose File")],-1));function J(n,t,l,e,a,o){return y(),k(B,null,[I,T,i("div",R,[i("div",A,[x,i("div",D,[i("button",{id:"uploadBtn",onClick:t[0]||(t[0]=(...s)=>o.uploadToBucket&&o.uploadToBucket(...s))},"Upload"),E,i("input",{type:"file",id:"image",accept:"image/*",onChange:t[1]||(t[1]=(...s)=>o.onFileChange&&o.onFileChange(...s)),multiple:""},null,32)])])])],64)}const G=S(b,[["render",J],["__scopeId","data-v-c984369f"],["__file","/home/dave/Documents/VueFleet/vue-project/src/pages/AddCloset.vue"]]);export{G as default};
