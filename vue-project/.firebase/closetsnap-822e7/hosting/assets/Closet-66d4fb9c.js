import{g as h,s as E,w as b,t as S,_ as y,o as u,c as m,e as r,b as x,l as g,r as v,d as D,f as L,h as $,i as C,F as A}from"./index-93d4e3f8.js";import{l as T}from"./auth_signout-b22d4e30.js";async function k(i){var l;let t=h();for(let e=0;e<5&&t.currentUser==null;e++)console.log("Waiting for authentication..."),await new Promise(a=>setTimeout(a,1e3)),t=h();if(t===null||!((l=t.currentUser)!=null&&l.email))return console.log("Authentication failed or user email is null"),"undefined";const s=E(b(),"users"),o=await S(s);let n;return o.forEach(e=>{e.data().email===t.currentUser.email&&(n=e.data()[i])}),n}const F={},U=r("p",{class:"webname"},"CLOSET SNAP",-1),V=[U];function B(i,c){return u(),m("header",null,V)}const N=y(F,[["render",B],["__file","/home/dave/Documents/VueFleet/vue-project/src/components/Sidebar.vue"]]),O={components:{Sidebar:N},data(){return{auth:!1,name:"",emptyCloset:!0}},async mounted(){var t;h().onAuthStateChanged(s=>{s?(this.auth=!0,console.log("Logged in"),k("name").then(o=>{this.name=o})):(console.log("Logged out"),this.auth=!1)});const i=x(),c=`users/${(t=h().currentUser)==null?void 0:t.email}/`;g(v(i,c)).then(s=>{const o=document.getElementById("closetDiv");s.prefixes.forEach(n=>{g(v(i,n.fullPath)).then(l=>{const e=[];l.items.forEach(p=>{e.push(p)});const a=document.createElement("div");a.classList.add("image-container");const f=document.createElement("p");f.innerHTML=n.name;const _=document.createElement("div");_.classList.add("image-title-container"),_.appendChild(f),a.appendChild(_),e.forEach(p=>{D(p).then(w=>{const d=document.createElement("img");d.setAttribute("src",w),d.style.width=`${window.innerWidth*.95}px`,d.style.height=`${window.innerWidth*.95}px`,d.classList.add("item"),a.appendChild(d)})}),o.appendChild(a)})})}).catch(s=>{console.log(s)})},methods:{authLogOut(){T()},addToCloset(){this.$router.push("AddCloset")}}};const P=r("div",{id:"closetDiv",class:"closetDiv"},null,-1),W={key:0},j=r("div",{class:"empty-closet-container"},null,-1),R=[j],q={key:1},H=r("div",{class:"closet-container"},null,-1),I=[H],M={class:"add-button"};function z(i,c,t,s,o,n){const l=L("Sidebar");return u(),m(A,null,[$(l),P,o.emptyCloset?(u(),m("div",W,R)):C("v-if",!0),o.emptyCloset?C("v-if",!0):(u(),m("div",q,I)),r("div",M,[r("button",{onClick:c[0]||(c[0]=(...e)=>n.addToCloset&&n.addToCloset(...e))},"+")])],64)}const K=y(O,[["render",z],["__file","/home/dave/Documents/VueFleet/vue-project/src/pages/Closet.vue"]]);export{K as default};
