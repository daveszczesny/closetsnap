import{g,s as Q,w as F,t as L,b as B,l as f,r as y,d as U,_ as w,o as E,c as v,e as a,f as z,h as Z,F as I}from"./index-b839e48b.js";import{l as O}from"./auth_signout-82c7e78a.js";async function V(l){var o;let e=g();for(let i=0;i<5&&e.currentUser==null;i++)console.log("Waiting for authentication..."),await new Promise(d=>setTimeout(d,1e3)),e=g();if(e===null||!((o=e.currentUser)!=null&&o.email))return console.log("Authentication failed or user email is null"),"undefined";const u=Q(F(),"users"),n=await L(u);let t;return n.forEach(i=>{i.data().email===e.currentUser.email&&(t=i.data()[l])}),t}const D={data(){return{auth:!1,name:"",emptyCloset:!0}},async mounted(){var n;g().onAuthStateChanged(t=>{t?(this.auth=!0,console.log("Logged in"),V("name").then(o=>{this.name=o})):(console.log("Logged out"),this.auth=!1,this.$router.push("/Login"))});const l=B(),c=`users/${(n=g().currentUser)==null?void 0:n.email}/`;f(y(l,c)).then(t=>{document.getElementById("closetDiv"),t.prefixes.forEach(o=>{f(y(l,o.fullPath)).then(i=>{const d=[];i.items.forEach(p=>{d.push(p)});const r=document.createElement("div");r.classList.add("folder-container");const A=document.createElement("div");A.classList.add("image-container");const C=document.createElement("p");C.innerHTML=o.name;const h=document.createElement("div");h.classList.add("image-title-container"),h.appendChild(C),r.appendChild(h),d.forEach(p=>{U(p).then(S=>{const s=document.createElement("img");s.setAttribute("src",S),s.setAttribute("loading","lazy"),s.style.width=`${window.innerWidth*.95}px`,s.style.height=`${window.innerWidth*.95}px`,s.classList.add("item"),s.setAttribute("visibility","hidden");const m=document.createElement("div");m.classList.add("closet-custom-loader"),r.appendChild(m),A.appendChild(s),s.complete?(s.style.visibility="visible",m.style.display="none"):s.onload=()=>{s.style.visibility="visible",m.style.display="none"}})}),r.appendChild(A),e.appendChild(r)})})}).catch(t=>{console.log(t)});const e=document.getElementById("closetDiv"),u=e==null?void 0:e.querySelectorAll("div");setTimeout(()=>{u.item.length<1?this.emptyCloset=!0:this.emptyCloset=!1},1e3)},methods:{authLogOut(){O()},addToCloset(){this.$router.push("AddCloset")}}},N="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAYAAABV7bNHAAAACXBIWXMAACE4AAAhOAFFljFgAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAXbSURBVHgB7Zu9cttGEMd3D6atSRqmlKKJ4S6dGOqziQg9gZwylekyleQuqSSVqSI9gagune0nECQ3+qJEP0HgzMgqzRSekS3hNnsw5dFQB+LwQZCm8ZvRjOYAAuCfe9j/7QIABQUFBQUFBQUFBRoQBsDMguOQL6dAYIUIKjxU5guxb+9DAB4SeHyFbSBykcTrkxPXhZzJTaBAFKInIOExn7UMSSAWC+AFEu7kJVZfBapUnLK4L1f4C60mFiUcjxVbbx7t70Af6ZtA0/OLKyBxvQ/CdOP1U6jMBeKosa0SbfORHcgXz/+IS62W60GGWJAhKmqEgL9ZnB8hf8rCgvr45A8fLs7/PYCMyCyCqnOLawg8pQzgzNXmE7f4vxcgxZtSCVqXY9Buua66CUPFccql92DzfmUppMP3sFqciCSecqdH+xuQAZkIVJ2vbXNKrkfuSOAqUfxvxc6NGKYo0cR7zoBAK4iBNYg6V6N5vPcUUpJaICNxWBiOgo2sUvPMjONIQdvd3klz3tQipboHdabVath2NZWEwD+aR3u/vX3reZAR6lgX52+2xicf/cciLfDQmHZHjrTx7x8C77sHCUkcQUEaJ9wM266csBScVQ6yzSrdVBYcW0ja7RVNhPLZ6eGrTUhAIoE6qfwszOOwOC35DYsT8z6TlEAkn573uDe12QL8lMQCCEiAdZ92h0UchYpSeYVLPKVbIbuUA2+WgNgCVWedOoSEc2da/ZKnODdwdLQDkQJnrYFtQnX+51WISWyBEGlNN65uyHncc3oRiMTXwP9qfyCuCKyp9SHEIJZAvaKHs9VGGnFURpyerb1TfzOzi39BQtQ1EGKYSVSL51hRFCvNT0w+fK5O0j2uwppT+a+QkCoLgoi/8zQY+/SHC5yekdOzCwm4OPcOJiZsh49ld29jW1Lh4/5peCjzCFLmDMKiR2IqM8bi1O+MAa5ACpQxDdlU7nwXI4wFYi9R145z5sjAIZcNx4wJrilY2tyFLC7cGWJ+D0Jc1g9TIgOWByTkS/0GtaYzw0igTkhqf1H/o3gJQ4r8YDVAn9GMp5mRQNLy9Q6VQ1ilVhhSgmsLMY+h36kLI4HYP9R044SUeBGYF2HTDEFMgQFm9yDSTy8hhQtDDl7rnTVJMIqgeyY76fyE4hrBaHoFZZEEnY3puRppNwQVSWqcHO8/gwj8ktWy5N3DoOG1mGYxWzt6FbLuuUVgAiHj7gYfi93yKgu/HrnvZeiPaIMBiVbzN5jcoHUmMCtMzGTaJJJKoK+BVAKZrIy5w7AF/QKxr11VhalAnnZ07DJSIG6/rPN6ZIsIMvNLn9pGuNE8dGPXd+JilMWCC9IUZ+9dl5SX8KI+3zzeV18k9MuEZSuuEAzk6ZPbGEUQG8LXunFpwSMYccycNJLWrqMUyzDiGAkkfEtfDOcuQtwS5peGkUCdeo92VSwe+HUYYYzTvATSL/pGfJoZC2RJ0dBu4HZKnBJmCG3DsdwxFqjHNFNZbg1SoDWTOZhAE2I56VBXnLApd8NtM5mnCTQhlhFTGYvbzv+AvvyauP/db9IY0VgRpFbGvZpyqmc/amk/9mL19NDdDGunMLYYMZESreZ9K2gU6vvfPBM7ItkwAiQSKKL/HYhkjYhIietBaqqpbNNjF5tFOkuT3YaB1OWE6VmnwX2hqFauh9y/H8TLKJ3M+06zqc1Z7Luoz6cuuTaP3To7xShTZ5Og3epc7Wx6bvFJnjdx64HU/nhE0XUsRWYFqZk5Z52NpLmj5kyoGo+qt8bFuPYVd0iy7NJ+fpEm7OF2hEbzMPoR4UwrdtV5ZxUpEGno0zxK+fjk5FXkcwXZv8xi8FjuoFEPfJ0e7RlVQzNv+ygLoE5OhE8JzOZ5ntw8S2m6f9+L4sFzjbzaH4aICsQBXGoduy3Tz+T3SibXjEjIOkfWMuIA7lGcFNQKIO6DpoN5qVeJhXKKaz6OenKEEOysIyzow2HQrnLRz+8d14KCgoKCgoKCgq+E/wF8vXAbeVXGGgAAAABJRU5ErkJggg==",Y="/assets/sad-5f48ee11.png";const b={class:"closet-title"},K={class:"closet-circle"},k=a("div",{id:"closetDiv",class:"closetDiv"},null,-1),G={key:0,class:"closet-empty"},x=a("img",{src:Y},null,-1),M=[x];function T(l,c,e,u,n,t){return E(),v(I,null,[a("div",b,[a("h1",null,z(n.name)+"'s Closet",1)]),a("div",K,[a("img",{onClick:c[0]||(c[0]=(...o)=>t.addToCloset&&t.addToCloset(...o)),src:N})]),k,n.emptyCloset==!0?(E(),v("div",G,M)):Z("v-if",!0)],64)}const _=w(D,[["render",T],["__file","/home/dave/Documents/VueFleet/vue-project/src/pages/Closet.vue"]]);export{_ as default};
