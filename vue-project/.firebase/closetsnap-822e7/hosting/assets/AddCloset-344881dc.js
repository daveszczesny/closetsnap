import{g as u,b as g,r as m,u as h,d as v,_,o as f,c as y,e as t,a as w}from"./index-9b02ffa5.js";const S={data(){return{}},methods:{onFileChange(i){var s;const e=document.getElementById("image-preview"),n=(s=i.target)==null?void 0:s.files[0],o=new FileReader;o.readAsDataURL(n),o.onload=()=>{e.src=o.result,e.width=window.innerWidth*.95,e.height=window.innerWidth*.95}},generateRandomString(i){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let n="";for(let o=0;o<i;o++){const s=Math.floor(Math.random()*e.length);n+=e.charAt(s)}return n},uploadToBucket(){var a,r,c;if(u().currentUser==null){console.log("Current User is not logged in ");return}const i=g(),e=document.getElementById("image"),n=document.getElementById("category"),o=m(i,"users/"+((r=(a=u())==null?void 0:a.currentUser)==null?void 0:r.email)+"/"+n.value+"/"+this.generateRandomString(30)),s=(c=e==null?void 0:e.files)==null?void 0:c[0];s&&h(o,s).on("state_changed",l=>{const d=l.bytesTransferred/l.totalBytes*100;switch(console.log(d),l.state){case"paused":console.log("Upload is paused");break;case"running":console.log("Upload is running");const p=document.querySelector(".ac-loader");p.style.display="flex";break}},l=>{console.log(l)},()=>{console.log("Upload Complete");const l=document.querySelector(".ac-loader");l.style.display="none",v(o).then(d=>{console.log("File available at",d)}),this.$router.push("/Closet")})}}};const k={class:"container"},B=t("img",{id:"image-preview"},null,-1),C=t("div",{class:"ac-loader"},[t("div",{class:"ac-custom-loader"})],-1),U={class:"bottom"},b=w('<div class="category-dropdown"><select id="category"><option value="Tops">Tops</option><option value="Pants">Pants</option><option value="Jeans">Jeans</option><option value="Shirts">Shirts</option><option value="Underwear">Underwear</option><option value="Bras">Bras</option><option value="Socks">Socks</option><option value="Dresses">Dresses</option><option value="Shorts">Shorts</option><option value="Skirts">Skirts</option><option value="HoodiesSweatshirts">Hoodies &amp; Sweatshirts</option><option value="Jackets">Jackets &amp; Coats</option><option value="Shoes">Shoes</option><option value="Gym">Gym wear</option><option value="Knitwear">Knitwear</option></select></div>',1),T={class:"buttons"},F=t("label",{style:{},for:"image",class:"custom-file-upload"},[t("p",null,"Choose File")],-1);function R(i,e,n,o,s,a){return f(),y("div",k,[B,C,t("div",U,[b,t("div",T,[t("button",{id:"uploadBtn",onClick:e[0]||(e[0]=(...r)=>a.uploadToBucket&&a.uploadToBucket(...r))},"Upload"),F,t("input",{type:"file",id:"image",accept:"image/*",onChange:e[1]||(e[1]=(...r)=>a.onFileChange&&a.onFileChange(...r))},null,32)])])])}const D=_(S,[["render",R],["__file","/home/dave/Documents/VueFleet/vue-project/src/pages/AddCloset.vue"]]);export{D as default};
